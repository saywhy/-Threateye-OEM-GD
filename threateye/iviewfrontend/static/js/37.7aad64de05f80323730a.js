webpackJsonp([37],{"W+02":function(t,e){},WCJs:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("bOdI"),a=s.n(i),n=s("Dd8w"),r=s.n(n),o=s("u4Bf"),c=s.n(o),l=s("NYxO"),u={name:"screen-set",data:function(){return{rotate1Active:!0,rotate2Active:!0,defaultIndex:"0",setAsideLists:[],setTopLists:[]}},computed:r()({},Object(l.b)(["asideLists","topLists"]),{key:function(){return this.$route.path+Math.random()}}),created:function(){var t=this.$route.query.num;this.defaultIndex=t;var e=this.asideLists;this.setAsideLists=e;var s=this.topLists;this.setTopLists=s},watch:{asideLists:{handler:function(t,e){this.setAsideLists=t},deep:!0},topLists:{handler:function(t,e){this.setTopLists=t},deep:!0}},updated:function(){var t=this.defaultIndex;1==t?this.$store.commit("SET_ASIDE_LISTS",this.setAsideLists):2==t&&this.$store.commit("SET_TOP_LISTS",this.setTopLists)},components:{vuedraggable:c.a},methods:{back_router:function(){this.$router.push({path:"/screen"})},change_router:function(t){"0"==t?this.$router.push({path:"/screen/set/base",query:{num:t}}):"1"==t?this.$router.push({path:"/screen/set_screen",query:{num:t}}):"2"==t&&this.$router.push({path:"/screen/set_screen",query:{num:t}})},rotateClick:function(){var t=this.defaultIndex;1==t?this.rotate1Active=!this.rotate1Active:2==t&&(this.rotate2Active=!this.rotate2Active)},asideAddClick:function(t){var e;this.setAsideLists.filter(function(t){return 1==t.flag}).length<6?this.$store.commit("SET_ASIDE_LISTS_ID",(e={id:t},a()(e,"id",t),a()(e,"flag",!0),e)):this.$message.warning("两侧内容最多只能添加6条.")},topAddClick:function(t){var e;this.setTopLists.filter(function(t){return 1==t.flag}).length<4?this.$store.commit("SET_TOP_LISTS_ID",(e={id:t},a()(e,"id",t),a()(e,"flag",!0),e)):this.$message.warning("顶部内容最多只能添加4条.")}}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-container",{staticClass:"screen-set"},[s("el-aside",{staticClass:"set-aside"},[s("div",{staticClass:"set-aside-top"},[s("el-link",{on:{click:function(e){return t.back_router()}}},[s("i",{staticClass:"el-icon-arrow-left el-icon--right"}),t._v(" "),s("span",{staticClass:"back"},[t._v("返回大屏")])])],1),t._v(" "),s("el-menu",{staticClass:"set-aside-menu",attrs:{"default-active":t.defaultIndex}},[s("el-submenu",{attrs:{index:"-1"}},[s("template",{slot:"title"},[s("i",{staticClass:"e-aside-screen-set"}),t._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v("大屏设置")])])],2),t._v(" "),s("div",{staticClass:"aside-item"},[s("el-menu-item",{attrs:{index:"0"},on:{click:function(e){return t.change_router("0")}}},[t._v("基本内容设置")])],1),t._v(" "),s("div",{staticClass:"aside-item"},[s("i",{staticClass:"tog",class:{active:"1"==t.defaultIndex,rotate:!t.rotate1Active},on:{click:function(e){return t.rotateClick()}}}),t._v(" "),s("el-menu-item",{attrs:{index:"1",lazy:""},on:{click:function(e){return t.change_router("1")}}},[t._v("两侧内容设置")]),t._v(" "),s("vuedraggable",{directives:[{name:"show",rawName:"v-show",value:"1"==t.defaultIndex&&t.rotate1Active,expression:"defaultIndex == '1' && rotate1Active"}],staticClass:"menu-list",model:{value:t.setAsideLists,callback:function(e){t.setAsideLists=e},expression:"setAsideLists"}},[s("transition-group",t._l(t.setAsideLists,function(e,i){return s("div",{key:e.aside_id,staticClass:"item"},[s("span",{staticClass:"title"},[t._v(t._s(e.name))]),t._v(" "),s("button",{staticClass:"bt",class:{active:e.flag},on:{click:function(s){return t.asideAddClick(e.aside_id)}}},[s("span",{directives:[{name:"show",rawName:"v-show",value:!e.flag,expression:"!item.flag"}]},[t._v("添加")]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.flag,expression:"item.flag"}]},[t._v("已添加")])])])}),0)],1)],1),t._v(" "),s("div",{staticClass:"aside-item"},[s("i",{staticClass:"tog",class:{active:"2"==t.defaultIndex,rotate:!t.rotate2Active},on:{click:function(e){return t.rotateClick()}}}),t._v(" "),s("el-menu-item",{attrs:{index:"2",lazy:""},on:{click:function(e){return t.change_router("2")}}},[t._v("顶部指标设置")]),t._v(" "),s("vuedraggable",{directives:[{name:"show",rawName:"v-show",value:"2"==t.defaultIndex&&t.rotate2Active,expression:"defaultIndex == '2' && rotate2Active"}],staticClass:"menu-list",model:{value:t.setTopLists,callback:function(e){t.setTopLists=e},expression:"setTopLists"}},[s("transition-group",t._l(t.setTopLists,function(e,i){return s("div",{key:e.top_id,staticClass:"item"},[s("span",{staticClass:"title"},[t._v(t._s(e.name))]),t._v(" "),s("button",{staticClass:"bt",class:{active:e.flag},on:{click:function(s){return t.topAddClick(e.top_id)}}},[s("span",{directives:[{name:"show",rawName:"v-show",value:!e.flag,expression:"!item.flag"}]},[t._v("添加")]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.flag,expression:"item.flag"}]},[t._v("已添加")])])])}),0)],1)],1)],1)],1),t._v(" "),s("el-container",{staticClass:"set-container"},[s("el-main",{staticClass:"set-main"},[s("transition",{attrs:{name:"slider"}},[s("keep-alive",{attrs:{exclude:"home-screen"}},[s("router-view",{key:t.key})],1)],1)],1)],1),t._v(" "),s("el-footer",{staticClass:"set-footer"},[t._v("©虎特信息科技（上海）有限公司 版权所有")])],1)},staticRenderFns:[]};var v=s("VU/8")(u,d,!1,function(t){s("W+02")},"data-v-f0af49dc",null);e.default=v.exports}});