webpackJsonp([2],{"+4+n":function(t,e){var a;(a=window).tools=a.tools||{},tools.loopShowTooltip=function(t,e,a){var s={interval:2e3,loopSeries:!1,seriesIndex:0,updateData:null};if(!t||!e)return{};var n,i=0,o=0,r=0,l=e.series.length,c=0,d=!0;function u(){function s(){0!==i||d||"function"!=typeof a.updateData||(a.updateData(),t.setOption(e));var s=e.series;n=s[o].type,c=s[o].data.length;var r={seriesIndex:o};switch(n){case"map":case"pie":case"chord":r.name=s[o].data[i].name;break;case"radar":r.seriesIndex=o,r.dataIndex=i;break;default:r.dataIndex=i}"pie"!==n&&"radar"!==n||(t.dispatchAction({type:"downplay",seriesIndex:a.loopSeries?0===o?l-1:o-1:o,dataIndex:0===i?c-1:i-1}),t.dispatchAction({type:"highlight",seriesIndex:o,dataIndex:i})),r.type="showTip",t.dispatchAction(r),i=(i+1)%c,a.loopSeries&&0===i&&!d&&(o=(o+1)%l),d=!1}s(),r=setInterval(s,a.interval)}function m(){r&&(clearInterval(r),r=0,"pie"!==n&&"radar"!==n||t.dispatchAction({type:"downplay",seriesIndex:a.loopSeries?0===o?l-1:o-1:o,dataIndex:0===i?c-1:i-1}))}a?(a.interval=a.interval||s.interval,a.loopSeries=a.loopSeries||s.loopSeries,a.seriesIndex=a.seriesIndex||s.seriesIndex,a.updateData=a.updateData||s.updateData):a=s,o=a.seriesIndex<0||a.seriesIndex>=l?0:a.seriesIndex;var f=t.getZr();function h(t){t.event&&(t.event.cancelBubble=!0),m()}function v(){r||u()}return t.on("mousemove",m),f.on("mousemove",h),f.on("globalout",v),u(),{clearLoop:function(){r&&(clearInterval(r),r=0),t.off("mousemove",m),f.off("mousemove",h),f.off("globalout",v)}}}},"+f8I":function(t,e,a){"use strict";(function(t){e.a={name:"vm-screen-main4",data:function(){return{myEcharts:null,branch:{branchName:[],branchCount:[],highLists:[],mediumLists:[],lowLists:[]},timers:null}},created:function(){this.getData()},mounted:function(){var t=this;this.timers=setInterval(function(){t.getData()},3e5)},destroyed:function(){clearInterval(this.timers)},methods:{getData:function(){var t=this;this.$axios.get("/yiiapi/demonstration/branch-safe").then(function(e){var a=e.data,s=a.status,n=a.data;0==s&&(n=n.reverse(),t.branch.branchName=n.map(function(t){return t.branch_name}),t.branch.branchCount=n.map(function(t){return t.count}),t.branch.highLists=n.map(function(t){return t.high}),t.branch.mediumLists=n.map(function(t){return t.medium}),t.branch.lowLists=n.map(function(t){return t.medium}),t.$nextTick(function(){t.drawGraph()}))}).catch(function(t){console.log(t)})},drawGraph:function(){var e=this;this.myEcharts=this.$echarts.init(document.getElementById("branch")),this.myEcharts.showLoading({text:"正在加载数据..."}),this.myEcharts.clear();var a={color:["#D44361","#D0A13F","#60C160"],legend:{show:!1},grid:{top:"0",left:"-12%",right:"0",bottom:"-8%",containLabel:!0},xAxis:{type:"value",show:!1},yAxis:[{type:"category",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#fff",fontSize:12,fontFamily:"PingFangSC-Regular",margin:20},position:"left",data:this.branch.branchCount,showBackground:!0,backgroundStyle:{color:"rgba(220, 220, 220, 0.9)"}},{type:"category",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"#fff",fontSize:12,fontFamily:"PingFangSC-Regular",margin:80,formatter:function(t){t.split("");return new RegExp("[\\u4E00-\\u9FFF]+","g").test(t)?t.length>5?t.slice(0,5)+"...":t:t.length>8?t.slice(0,8)+"...":t}},position:"left",data:this.branch.branchName,triggerEvent:!0}],series:[{name:"高危",type:"bar",stack:"分支安全",barWidth:"50%",data:this.branch.highLists},{name:"中危",type:"bar",stack:"分支安全",barWidth:"50%",data:this.branch.mediumLists},{name:"低危",type:"bar",stack:"分支安全",barWidth:"50%",showBackground:!0,backgroundStyle:{color:"rgba(0,215,233,.12)"},data:this.branch.lowLists}]};if(this.myEcharts.setOption(a),this.myEcharts.hideLoading(),window.addEventListener("resize",function(){e.myEcharts.resize()}),!document.getElementById("extension")){t("html").append("<span id='extension' sytle='display:block'></span>")}this.myEcharts.on("mouseover",function(e){"yAxis"==e.componentType&&(t("#extension").css({position:"absolute",color:"#fff",background:"rgba(0,0,0,.5)","font-family":"PingFangSC-Regular","font-size":"12px",padding:"5px",display:"inline"}).text(e.value),t("html").mousemove(function(e){var a=e.pageX-10,s=e.pageY+15;t("#extension").css("top",s).css("left",a)}))}),this.myEcharts.on("mouseout",function(e){"yAxis"==e.componentType&&t("#extension").css("display","none")})}}}}).call(e,a("7t+N"))},"5WNt":function(t,e){},"6Fn6":function(t,e){},"8/yp":function(t,e){},Ea8W:function(t,e){},I95x:function(t,e){
/*!
* screenfull
* v5.0.2 - 2020-02-13
* (c) Sindre Sorhus; MIT License
*/
!function(){"use strict";var e="undefined"!=typeof window&&void 0!==window.document?window.document:{},a=void 0!==t&&t.exports,s=function(){for(var t,a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],s=0,n=a.length,i={};s<n;s++)if((t=a[s])&&t[1]in e){for(s=0;s<t.length;s++)i[a[0][s]]=t[s];return i}return!1}(),n={change:s.fullscreenchange,error:s.fullscreenerror},i={request:function(t){return new Promise(function(a,n){var i=function(){this.off("change",i),a()}.bind(this);this.on("change",i);var o=(t=t||e.documentElement)[s.requestFullscreen]();o instanceof Promise&&o.then(i).catch(n)}.bind(this))},exit:function(){return new Promise(function(t,a){if(this.isFullscreen){var n=function(){this.off("change",n),t()}.bind(this);this.on("change",n);var i=e[s.exitFullscreen]();i instanceof Promise&&i.then(n).catch(a)}else t()}.bind(this))},toggle:function(t){return this.isFullscreen?this.exit():this.request(t)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(t,a){var s=n[t];s&&e.addEventListener(s,a,!1)},off:function(t,a){var s=n[t];s&&e.removeEventListener(s,a,!1)},raw:s};s?(Object.defineProperties(i,{isFullscreen:{get:function(){return Boolean(e[s.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[s.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(e[s.fullscreenEnabled])}}}),a?t.exports=i:window.screenfull=i):a?t.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}()},KIJ7:function(t,e){},OZhP:function(t,e){},VGld:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Dd8w"),n=a.n(s),i=a("u4Bf"),o=a.n(i),r=a("I95x"),l=a.n(r),c=a("bOdI"),d=a.n(c),u=a("woOf"),m=a.n(u);a("+4+n");var f={name:"vm-screen-main0",data:function(){return{timers:null,degree:[],category:[]}},created:function(){this.getData()},mounted:function(){var t=this;this.timers=setInterval(function(){t.getData()},3e5)},destroyed:function(){clearInterval(this.timers)},methods:{getData:function(){var t=this;this.$axios.get("/yiiapi/demonstration/threat-distribution").then(function(e){t.degree=[],t.category=[];var a=e.data,s=a.status,n=a.data;if(0==s){var i=n.category,o=n.degree;t.degree=o,t.category=i,t.$nextTick(function(){this.drawRank()}),t.$nextTick(function(){this.drawScat()})}}).catch(function(t){console.log(t)})},drawRank:function(){var t=this.degree,e=[];if(!t)return!1;t.filter(function(t){var a="",s=0,n="";"high"==t.degree?(a="高危预警",s=t.count,n="#D44361"):"medium"==t.degree?(a="中危预警",s=t.count,n="#D0A13F"):"low"==t.degree&&(a="低危预警",s=t.count,n="#60C160"),e.push(n),m()(t,{value:s,name:a,itemStyle:{color:n}})}),this.$echarts.dispose(document.getElementById("threat-rank"));var a=this.$echarts.init(document.getElementById("threat-rank"));a.showLoading({text:"正在加载数据..."}),a.clear();var s={grid:{top:"20%",left:"5%",right:"5%",bottom:"5%",containLabel:!0},color:e,series:[{name:"预警",type:"pie",center:["50%","42%"],radius:["45%","70%"],avoidLabelOverlap:!1,legendHoverLink:!1,hoverOffset:3,selectedOffset:0,label:{normal:{show:!1,position:"center"}},emphasis:{label:{show:!0,formatter:["{d|{d}%}","{b|{b}}"].join("\n"),rich:{d:{fontSize:20,lineHeight:40,color:"#fff"},b:{color:"#fff"}}}},labelLine:{normal:{show:!1}},data:t}]};a.setOption(s),a.hideLoading(),tools.loopShowTooltip(a,s,{loopSeries:!0}),window.addEventListener("resize",function(){a.resize()})},drawScat:function(){var t=this.category;if(!t)return!1;t.filter(function(t){var e,a;e=t.category,a=t.count,m()(t,{value:a,name:e})}),this.$echarts.dispose(document.getElementById("threat-scat"));var e=this.$echarts.init(document.getElementById("threat-scat"));e.showLoading({text:"正在加载数据..."}),e.clear();var a={grid:{top:"20%",left:"5%",right:"5%",bottom:"5%",containLabel:!0},color:["#007AFF","#00D7E9","#7E25DD","#D839B6","#BECE2A"],series:[{name:"威胁类型分布",type:"pie",center:["50%","42%"],radius:["45%","70%"],avoidLabelOverlap:!0,hoverOffset:3,selectedOffset:0,label:{normal:{show:!1,position:"center"}},emphasis:{label:{show:!0,formatter:["{d|{d}%}","{b|{b}}"].join("\n"),rich:{d:{fontSize:20,lineHeight:40,color:"#fff"},b:{color:"#fff"}}}},labelLine:{normal:{show:!1}},data:t}]};e.setOption(a,!0),e.hideLoading(),tools.loopShowTooltip(e,a,{loopSeries:!0}),window.addEventListener("resize",function(){e.resize()})}}},h={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vm-screen-main0"},[e("div",{staticClass:"main0-item"},[e("div",{attrs:{id:"threat-rank"}}),this._v(" "),e("h3",{staticClass:"name"},[this._v("威胁等级分布")])]),this._v(" "),e("div",{staticClass:"main0-item"},[e("div",{attrs:{id:"threat-scat"}}),this._v(" "),e("h3",{staticClass:"name"},[this._v("威胁类型分布")])])])}]};var v=a("VU/8")(f,h,!1,function(t){a("6Fn6")},"data-v-6e66abf4",null).exports,p={name:"vm-screen-main1",data:function(){return{data:[],count:0,reli_list:[],timer:null,timers:null}},created:function(){this.getData()},mounted:function(){var t=this;this.timers=setInterval(function(){t.getData()},3e5)},destroyed:function(){clearInterval(this.timers)},methods:{random:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},getData:function(){var t=this;this.$axios.get("/yiiapi/demonstration/threat-indicators").then(function(e){var a=e.data,s=a.status,n=a.data;clearInterval(t.timer),0==s&&(n.forEach(function(e){e.style={top:t.random(5,200)+"px",left:t.random(5,300)+"px"},e.change=!1}),t.reli_list=n,t.heatHandle(),t.timer=setInterval(function(){t.heatHandle()},5e3))}).catch(function(t){console.log(t)})},heatHandle:function(){this.reli_list.length==this.count&&(this.count=0),this.reli_list.forEach(function(t){t.change=!1}),this.reli_list[this.count].change=!0,this.count++}}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vm-screen-main1"},[a("div",{staticClass:"reli_box"},[a("ul",t._l(t.reli_list,function(e){return a("li",{staticClass:"reli_item",style:e.style},[a("span",{staticClass:"reli_item_span",class:e.change?"changed":"",attrs:{title:e.indicator}},[t._v("\n        "+t._s(e.indicator)+"\n      ")])])}),0)])])},staticRenderFns:[]};var _=a("VU/8")(p,g,!1,function(t){a("zCCX")},"data-v-657a5c4d",null).exports,y={name:"vm-screen-main2",data:function(){return{animate:!1,items:[],timer:null,timers:null}},created:function(){this.getData()},mounted:function(){var t=this;this.timers=setInterval(function(){t.getData()},3e5)},destroyed:function(){clearInterval(this.timers)},methods:{getData:function(){var t=this;this.$axios.get("/yiiapi/demonstration/threat-dynamics").then(function(e){var a=e.data,s=a.status,n=a.data;clearInterval(t.timer),0==s&&(t.items=n,t.timer=setInterval(t.scroll,3e3))}).catch(function(t){console.log(t)})},scroll:function(){var t=this;this.animate=!0,setTimeout(function(){t.items.push(t.items[0]),t.items.shift(),t.animate=!1},1e3)}}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vm-screen-main2",attrs:{id:"box"}},[a("ul",{staticClass:"box-list",class:{anim:1==t.animate}},t._l(t.items,function(e,s){return a("li",{key:e.id,staticClass:"item"},[a("i",{staticClass:"t-arrow"}),a("span",{staticClass:"t-content",attrs:{title:e.title}},[t._v(t._s(e.title))]),t._v(" "),a("span",{staticClass:"t-time"},[t._v(t._s(e.updated_at))])])}),0)])},staticRenderFns:[]};var w=a("VU/8")(y,b,!1,function(t){a("rRlt")},"data-v-1974da47",null).exports,C={name:"vm-screen-main3",data:function(){return{loading:!1,stateIndex:0,stateData:{},timers:null}},created:function(){this.getData()},mounted:function(){var t=this;this.timers=setInterval(function(){t.getData()},3e5)},destroyed:function(){clearInterval(this.timers)},methods:{getData:function(){var t=this;this.loading=!1,this.$axios.get("/yiiapi/demonstration/horizontal-threat-situation").then(function(e){t.loading=!0;var a=e.data,s=a.status,n=a.data;0==s&&(t.stateData=n)}).catch(function(t){console.log(t)})},state_click:function(t){this.stateIndex=t}}},x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vm-screen-main3"},[t.loading?a("div",{staticClass:"state-top"},[a("span",{staticClass:"t-info"},[a("i",{staticClass:"t-arrow"}),a("span",{staticClass:"t-name"},[t._v("攻击源："+t._s(t.stateData.sourse_count))])]),t._v(" "),a("span",{staticClass:"t-info"},[a("i",{staticClass:"t-arrow"}),a("span",{staticClass:"t-name"},[t._v("攻击目标："+t._s(t.stateData.destination_count))])])]):t._e(),t._v(" "),a("div",{staticClass:"state-content"},[a("div",{staticClass:"disk"},[a("h2",{staticClass:"disk-num"},[t._v(t._s(t.stateData.threat_count))]),t._v(" "),a("h5",{staticClass:"disk-times"},[t._v("威胁次数")])]),t._v(" "),a("ul",{staticClass:"state-list"},t._l(t.stateData.category,function(e,s){return a("li",{key:s,staticClass:"item",class:{active:t.stateIndex==s},on:{click:function(e){return t.state_click(s)}}},[a("i",{staticClass:"t-arrow"}),a("span",{staticClass:"t-name"},[t._v(t._s(e.category))]),t._v(" "),a("span",{staticClass:"t-num"},[t._v(t._s(e.count))])])}),0)])])},staticRenderFns:[]};var A=a("VU/8")(C,x,!1,function(t){a("w+fR")},"data-v-87bd6450",null).exports,S=a("+f8I"),D={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vm-screen-main4"},[e("div",{attrs:{id:"branch"}})])}]};var E=function(t){a("nzex")},L=a("VU/8")(S.a,D,!1,E,"data-v-d6ad9dfa",null).exports,F={name:"vm-screen-progress",props:{pg_data:{type:Object,default:function(){}}},data:function(){return{progress_data:[{name:"CPU",count:24,color:"#fff"},{name:"内存",count:41,color:"#fff"},{name:"硬盘",count:35,color:"#fff"}]}},computed:{get_pg_data:function(){var t=this.pg_data,e=[];for(var a in t)"cpu"!=a&&"disk"!=a&&"mem"!=a||e.push({name:a,value:1*Number(t[a]).toFixed(0)});return e}},created:function(){}},I={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vm-screen-progress"},t._l(t.get_pg_data,function(e,s){return a("div",{key:s,staticClass:"item"},[a("span",{staticClass:"vam-progress-title"},[a("span",{staticClass:"progress-title",attrs:{title:e.name}},[t._v(t._s(t._f("sys")(e.name)))])]),t._v(" "),a("el-progress",{attrs:{"show-text":!0,"text-inside":!1,percentage:e.value}})],1)}),0)},staticRenderFns:[]};var k={name:"vm-screen-main5",components:{VmScreenProgress:a("VU/8")(F,I,!1,function(t){a("Ea8W")},"data-v-66d49fc6",null).exports},data:function(){return{loading:!1,animate:!1,sysData:{},itemAttr:[],items:[],timers:null}},created:function(){this.getData()},mounted:function(){var t=this;this.timers=setInterval(function(){t.getData()},3e5)},destroyed:function(){clearInterval(this.timers)},methods:{getData:function(){var t=this;this.loading=!1,this.$axios.get("/yiiapi/demonstration/system-status").then(function(e){t.loading=!0;var a=e.data,s=a.status,n=a.data;if(0==s){t.sysData=n;var i=t.sysData.dev_info;if(t.items=i,t.items.length>3){var o=t.getNewArray(i,3);t.itemAttr=o}}}).catch(function(t){console.log(t)})},getNewArray:function(t,e){for(var a=Math.ceil(t.length/e,10),s=0,n=0,i=[];s<a;)i[s]=t.slice(n,e+n),n+=e,s++;return i},calculate:function(t){return"warning"==t?"item0":"health"==t?"item1":"offline"==t?"item2":void 0}}},B={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vm-screen-main5"},[s("div",{staticClass:"state-top"},[s("span",{staticClass:"t-info t-info_0"},[s("i",{staticClass:"t-arrow"}),s("span",{staticClass:"t-name"},[t._v("预警："+t._s(t.sysData.warning_count))])]),t._v(" "),s("span",{staticClass:"t-info t-info_1"},[s("i",{staticClass:"t-arrow"}),s("span",{staticClass:"t-name"},[t._v("健康："+t._s(t.sysData.healthy_count))])]),t._v(" "),s("span",{staticClass:"t-info t-info_2"},[s("i",{staticClass:"t-arrow"}),s("span",{staticClass:"t-name"},[t._v("离线："+t._s(t.sysData.offline_count))])])]),t._v(" "),t.loading?s("div",{staticClass:"state-content"},[t.items.length<4?s("div",[t._l(t.items,function(e,a){return s("div",{key:a,staticClass:"item",class:t.calculate(e.status)},[s("h3",{staticClass:"item_fs0"},[t._v(t._s(e.name))]),t._v(" "),s("div",{staticClass:"item_fs1"},[s("i",{staticClass:"t_fork"}),t._v(" "),s("span",{staticClass:"t_name"},[t._v(t._s(e.ip))])]),t._v(" "),s("vm-screen-progress",{attrs:{pg_data:e}}),t._v(" "),s("div",{staticClass:"item_fs2"},[s("i",{staticClass:"t_aw t-aw_1"}),s("span",{staticClass:"t-name"},[t._v(t._s(e.flow)+"MB")])])],1)}),t._v(" "),t.items.length<3?s("div",{staticStyle:{display:"inline-block"}},t._l(3-t.items.length,function(t,e){return s("div",{key:e,staticClass:"item item3"},[s("img",{staticClass:"t_disabled",attrs:{src:a("biQ0")}})])}),0):t._e()],2):t._e(),t._v(" "),t.items.length>3?s("div",[s("el-carousel",t._l(t.itemAttr,function(e,n){return s("el-carousel-item",{key:n},[t._l(e,function(e,a){return s("div",{key:a,staticClass:"item",class:t.calculate(e.status)},[s("h3",{staticClass:"item_fs0"},[t._v(t._s(e.name))]),t._v(" "),s("div",{staticClass:"item_fs1"},[s("i",{staticClass:"t_fork"}),t._v(" "),s("span",{staticClass:"t_name"},[t._v(t._s(e.ip))])]),t._v(" "),s("vm-screen-progress",{attrs:{pg_data:e}}),t._v(" "),s("div",{staticClass:"item_fs2"},[s("i",{staticClass:"t_aw t-aw_1"}),s("span",{staticClass:"t-name"},[t._v(t._s(e.flow)+"MB")])])],1)}),t._v(" "),e.length<3?s("div",{staticStyle:{display:"inline-block"}},t._l(3-e.length,function(t,e){return s("div",{key:e,staticClass:"item item3"},[s("img",{staticClass:"t_disabled",attrs:{src:a("biQ0")}})])}),0):t._e()],2)}),1)],1):t._e()]):t._e()])},staticRenderFns:[]};var T=a("VU/8")(k,B,!1,function(t){a("kA+H")},"data-v-8cf0ac96",null).exports,z=a("gRE1"),O=a.n(z),R=a("fZjL"),U=a.n(R),W={name:"vm-screen-main6",data:function(){return{timers:null,dataInfo:[],tableData:[{type:"影响资产数",data0:"",data1:"",data2:""}]}},created:function(){this.getData()},mounted:function(){var t=this;this.timers=setInterval(function(){t.getData()},3e5)},destroyed:function(){clearInterval(this.timers)},methods:{getData:function(){var t=this;this.$axios.get("/yiiapi/demonstration/attention-alarm").then(function(e){var a=e.data,s=a.status,n=a.data;t.dataInfo=[],0==s&&(U()(n).forEach(function(e){t.dataInfo.push({name:e,value:n[e]})}),t.$nextTick(function(){this.drawGraph()}))}).catch(function(t){console.log(t)})},drawGraph:function(){var t=this.dataInfo,e=t[0].value.alert_distribution,a=t[1].value.alert_distribution,s=t[2].value.alert_distribution;this.tableData[0].data0=t[0].value.effect_assets,this.tableData[0].data1=t[1].value.effect_assets,this.tableData[0].data2=t[2].value.effect_assets;var n=[],i=[],o=[];O()(e).forEach(function(t){n.push(t)}),O()(a).forEach(function(t){i.push(t)}),O()(s).forEach(function(t){o.push(t)});var r=this.$echarts.init(document.getElementById("attent1"));r.showLoading({text:"正在加载数据..."}),r.clear();var l={backgroundColor:"rgba(0,122,255,0.1)",legend:{show:!1},grid:{top:"0",left:"0",right:"0",bottom:"0",containLabel:!1},xAxis:{show:!1,type:"category",boundaryGap:!1},yAxis:{show:!1},series:[{data:n,type:"line",smooth:!0,itemStyle:{opacity:0},lineStyle:{color:"#007AFF",width:1},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(0,122,255,0.5)"},{offset:1,color:"rgba(0,122,255,0.2)"}],global:!1}}}]};r.setOption(l),r.hideLoading(),window.addEventListener("resize",function(){r.resize()});var c=this.$echarts.init(document.getElementById("attent2"));c.showLoading({text:"正在加载数据..."}),c.clear();var d={backgroundColor:"rgba(255,0,201,0.1)",legend:{show:!1},grid:{top:"0",left:"0",right:"0",bottom:"0",containLabel:!1},xAxis:{show:!1,type:"category",boundaryGap:!1},yAxis:{show:!1},series:[{data:i,type:"line",smooth:!0,itemStyle:{opacity:0},lineStyle:{color:"#FF00C9",width:1},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(255,0,201,0.5)"},{offset:1,color:"rgba(255,0,201,0.2)"}],global:!1}}}]};c.setOption(d),c.hideLoading(),window.addEventListener("resize",function(){c.resize()});var u=this.$echarts.init(document.getElementById("attent3"));u.showLoading({text:"正在加载数据..."}),u.clear();var m={backgroundColor:"rgba(243,171,21,0.1)",legend:{show:!1},grid:{top:"0",left:"0",right:"0",bottom:"0",containLabel:!1},xAxis:{show:!1,type:"category",boundaryGap:!1},yAxis:{show:!1},series:[{data:o,type:"line",smooth:!0,itemStyle:{opacity:0},lineStyle:{color:"#F3AB15",width:1},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(243,171,21,0.5)"},{offset:1,color:"rgba(243,171,21,0.2)"}],global:!1}}}]};u.setOption(m),u.hideLoading(),window.addEventListener("resize",function(){u.resize()})}}},q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vm-screen-main6"},[t.dataInfo.length?a("div",{staticClass:"attention"},[a("div",{staticClass:"item"},[a("div",{staticClass:"name"},[t._v(t._s(t._f("alarm")(t.dataInfo[0].name)))]),t._v(" "),a("div",{attrs:{id:"attent1"}}),t._v(" "),a("div",{staticClass:"num"},[t._v(t._s(t.dataInfo[0].value.alert_count))])]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"name"},[t._v(t._s(t._f("alarm")(t.dataInfo[1].name)))]),t._v(" "),a("div",{attrs:{id:"attent2"}}),t._v(" "),a("div",{staticClass:"num"},[t._v(t._s(t.dataInfo[1].value.alert_count))])]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"name"},[t._v(t._s(t._f("alarm")(t.dataInfo[2].name)))]),t._v(" "),a("div",{attrs:{id:"attent3"}}),t._v(" "),a("div",{staticClass:"num"},[t._v(t._s(t.dataInfo[2].value.alert_count))])])]):t._e(),t._v(" "),t.dataInfo.length?a("div",{staticClass:"attention-table"},[a("el-table",{staticClass:"screen-table",attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"type",align:"center",label:"告警类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"data0",align:"center",label:t._f("alarm")(t.dataInfo[0].name),"show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"data1",align:"center",label:t._f("alarm")(t.dataInfo[1].name),"show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"data2",align:"center",label:t._f("alarm")(t.dataInfo[2].name),"show-overflow-tooltip":""}})],1)],1):t._e()])},staticRenderFns:[]};var Y=a("VU/8")(W,q,!1,function(t){a("m2hw")},"data-v-75df13bb",null).exports,H={name:"vm-screen-main7",data:function(){return{timers:null,progress_list:[{pid:0,name:"CN",country_name:"英国",num:0,count:0},{pid:1,name:"CN",country_name:"英国英国英国英国英国英国",num:0,count:0},{pid:2,name:"CN",country_name:"英国",num:0,count:0},{pid:3,name:"CN",country_name:"中国",num:0,count:0},{pid:4,name:"CN",country_name:"中国",num:0,count:0}]}},created:function(){this.getData()},mounted:function(){var t=this;this.timers=setInterval(function(){t.getData()},3e5)},destroyed:function(){clearInterval(this.timers)},methods:{getData:function(){var t=this;this.$axios.get("/yiiapi/demonstration/external-country-top5").then(function(e){var a=e.data,s=a.status,n=a.data,i=0;0==s&&(n.map(function(t){i+=Number(t.count)}),n.map(function(t){var e=t.country.toLowerCase();t.num=Number(t.count),t.count=Number(t.count)/i*100,m()(t,{alias:e})}),t.progress_list=n)}).catch(function(t){console.log(t)})},calculate:function(t){return"flag-icon-"+t}}},Q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vm-screen-main7"},[a("div",{staticClass:"vm-progress-list"},t._l(t.progress_list,function(e,s){return a("div",{staticClass:"item"},[a("div",{staticClass:"pgress-item"},[a("span",{staticClass:"flag-icon",class:t.calculate(e.alias)})]),t._v(" "),a("div",{staticClass:"pgress-title"},[e.country_name.length>3?a("marquee",{staticClass:"country_name",attrs:{direction:"left",behavior:"scroll",scrollamount:"1",scrolldelay:"0",loop:"-1",width:"50"}},[t._v("\n          "+t._s(e.country_name)+"\n        ")]):a("span",{staticClass:"country_name"},[t._v(t._s(e.country_name))]),t._v(" "),a("span",{staticClass:"country_count"},[t._v(t._s(e.num))])],1),t._v(" "),a("el-progress",{attrs:{"show-text":!1,"text-inside":!0,"stroke-width":20,percentage:e.count}})],1)}),0)])},staticRenderFns:[]};var N=a("VU/8")(H,Q,!1,function(t){a("8/yp")},"data-v-79d3b4ac",null).exports,V=a("wrC2"),M={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vm-screen-main8"},[e("div",{attrs:{id:"trend"}})])}]};var $=function(t){a("gbjk")},P={name:"vm-screen-main9",data:function(){return{timers:null,tableData:[]}},created:function(){this.getData()},mounted:function(){var t=this;this.timers=setInterval(function(){t.getData()},3e5)},destroyed:function(){clearInterval(this.timers)},methods:{getData:function(){var t=this;this.$axios.get("/yiiapi/demonstration/threat-range").then(function(e){var a=e.data,s=a.status,n=a.data;0==s&&(t.tableData=n)}).catch(function(t){console.log(t)})}}},G={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vm-screen-main9"},[a("el-table",{staticClass:"screen-table",attrs:{data:t.tableData}},[a("el-table-column",{attrs:{label:"告警时间","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t._f("time")(e.row.alert_time))+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"category",label:"告警类型","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"indicator",label:"威胁指标","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"asset_ip",label:"风险资产","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{label:"攻击阶段","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(t._f("stage")(e.row.attack_stage))+"\n      ")]}}])})],1)],1)},staticRenderFns:[]};var j={name:"vm-screen-all",props:["data","close"],components:{VmScreenMain0:v,VmScreenMain1:_,VmScreenMain2:w,VmScreenMain3:A,VmScreenMain4:L,VmScreenMain5:T,VmScreenMain6:Y,VmScreenMain7:N,VmScreenMain8:a("VU/8")(V.a,M,!1,$,"data-v-a4f099fc",null).exports,VmScreenMain9:a("VU/8")(P,G,!1,function(t){a("uJun")},"data-v-a240db4a",null).exports},methods:{asideDelClick:function(t){var e;this.$store.commit("SET_ASIDE_LISTS_ID",(e={id:t},d()(e,"id",t),d()(e,"flag",!1),e))}}},J={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vm-screen-all"},[a("header",{staticClass:"title"},[t._v(t._s(t.data.name)),a("i",{staticClass:"t_img"})]),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!t.close,expression:"!close"}],staticClass:"close",on:{click:function(e){return t.asideDelClick(t.data.aside_id)}}}),t._v(" "),0==t.data.aside_id?a("div",[a("vm-screen-main0")],1):1==t.data.aside_id?a("div",[a("vm-screen-main1")],1):2==t.data.aside_id?a("div",[a("vm-screen-main2")],1):3==t.data.aside_id?a("div",[a("vm-screen-main3")],1):4==t.data.aside_id?a("div",[a("vm-screen-main4")],1):5==t.data.aside_id?a("div",[a("vm-screen-main5")],1):6==t.data.aside_id?a("div",[a("vm-screen-main6")],1):7==t.data.aside_id?a("div",[a("vm-screen-main7")],1):8==t.data.aside_id?a("div",[a("vm-screen-main8")],1):9==t.data.aside_id?a("div",[a("vm-screen-main9")],1):t._e()])},staticRenderFns:[]};var Z=a("VU/8")(j,J,!1,function(t){a("KIJ7")},"data-v-6c01bc2d",null).exports,K=a("NYxO"),X={name:"vm-screen-middle0",props:["topData","close"],data:function(){return{topFlag:!0,timers:null}},computed:{riskData:{get:function(){return this.$store.getters.topLists.filter(function(t){return 1==t.flag})},set:function(t){}}},created:function(){this.getData()},mounted:function(){var t=this;this.timers=setInterval(function(){t.getData()},3e5)},destroyed:function(){clearInterval(this.timers)},methods:{getData:function(){var t=this;this.$axios.get("/yiiapi/demonstration/top-count").then(function(e){t.riskData=[],t.topFlag=!1;var a=e.data,s=a.status,n=a.data;0==s&&t.$store.commit("SET_TOP_LISTS_NUM",n)}).catch(function(t){console.log(t)})},topdelClick:function(t){var e;this.$store.commit("SET_TOP_LISTS_ID",(e={id:t},d()(e,"id",t),d()(e,"flag",!1),e))}}},tt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vm-screen-middle0"},[a("div",{staticClass:"risks"},t._l(t.riskData,function(e,s){return a("dl",{key:s,staticClass:"item-list"},[a("dt",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),a("dd",{staticClass:"content"},t._l(e.num,function(e,s){return a("span",{key:s,staticClass:"item"},[t._v(t._s(e))])}),0),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:!t.close,expression:"!close"}],staticClass:"close",on:{click:function(a){return t.topdelClick(e.top_id)}}})])}),0)])},staticRenderFns:[]};var et=a("VU/8")(X,tt,!1,function(t){a("bOmy")},"data-v-1294e037",null).exports,at={name:"Ddos",data:function(){return{timers:null,myEcharts:null,loading:!0,mapData:[{dest_ip:"202.106.40.115",dest_label:"[]",dest_location:[116.29845,39.95933],dest_type:"remote",id:173,src_ip:"192.168.1.195",src_label:"['11234分支']",src_location:[116.29845,39.95933],src_type:"local"}]}},created:function(){this.myEcharts=null,this.getData()},mounted:function(){var t=this;this.timers=setInterval(function(){t.getData()},3e4)},destroyed:function(){clearInterval(this.timers),this.$echarts.dispose(document.getElementById("screenMap"))},methods:{getData:function(){var t=this;this.loading=!1,this.$axios.get("/yiiapi/demonstration/external-distribution").then(function(e){t.loading=!0;var a=e.data,s=a.status,n=a.data;0==s&&(t.mapData=n,setTimeout(function(){t.$nextTick(function(){t.drawGraph()})},500))}).catch(function(t){console.log(t)})},drawGraph:function(){var t=this,e=[],a=["image://static/image/f0.png","image://static/image/f1.png"],s=["image://static/image/f1.png","image://static/image/f0.png"],n=[12,12],i=[12,12];this.mapData.forEach(function(o){if(o.src_location&&o.dest_location){var r=[],l=[];"local"==o.src_type?(r=a,l=n):(r=s,l=i),e.push({type:"lines",coordinateSystem:"geo",zlevel:1,data:[{name:o.src_ip,toname:o.dest_ip,coords:[o.src_location,o.dest_location]}],effect:{show:!0,period:5,trailLength:.21,color:"#00D7E9",symbol:"triangle",symbolSize:4},symbol:r,symbolSize:l,lineStyle:{normal:{color:new t.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#58B3CC"},{offset:1,color:"#00D7E9"}],!1),width:1,opacity:.03,curveness:.1}},label:{show:!1,color:"#ccc",position:"end",fontSize:10},animation:!1,animationThreshold:0})}}),e.push({type:"effectScatter",mapType:"china",name:"北京",coordinateSystem:"geo",zlevel:1,data:[{name:"",value:[116.3972,39.9075]}],symbol:"image://static/image/f2.png",symbolSize:8}),this.myEcharts=this.$echarts.init(document.getElementById("screenMap")),this.myEcharts.showLoading({text:"正在加载数据..."}),this.myEcharts.clear();var o={title:{text:"",subtext:"",left:"center",top:"4%",textStyle:{color:"#fff"}},geo:{map:"world",roam:!1,zoom:1.2,itemStyle:{areaColor:"rgba(9,102,232,0.12)",borderColor:"#0966e8"},emphasis:{label:{show:!1},itemStyle:{areaColor:"rgba(0,215,233,.12)"}},silent:!1},tooltip:{show:!1,trigger:"item",formatter:"{b}",padding:[5,10],transitionDuration:.2},regions:[{selected:!1}],series:e};this.myEcharts.setOption(o),this.myEcharts.hideLoading(),window.addEventListener("resize",function(){})}}},st={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"ddos"}},[e("div",{attrs:{id:"screenMap"}})])},staticRenderFns:[]};var nt={name:"vm-screen-spread",data:function(){return{speadData:[]}},created:function(){this.getData()},methods:{getData:function(){var t=this;this.$axios.get("/yiiapi/demonstration/branch-situation").then(function(e){var a=e.data,s=a.status,n=a.data,i=[];0==s&&(i=t.getNewArray(n,6),t.speadData=i)}).catch(function(t){console.log(t)})},getNewArray:function(t,e){for(var a=Math.ceil(t.length/e,10),s=0,n=0,i=[];s<a;)i[s]=t.slice(n,e+n),n+=e,s++;return i}}},it={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"vm-screen-spread"},[a("el-carousel",{staticClass:"spread",attrs:{direction:"vertical",interval:1e4}},t._l(t.speadData,function(e,s){return a("el-carousel-item",{key:s},[a("ul",{staticClass:"spread-list"},t._l(e,function(e,s){return a("li",{key:s,staticClass:"item"},[a("div",{staticClass:"its it1"},[a("h4",{staticClass:"s_name"},[t._v("分支名称")]),t._v(" "),a("h2",{staticClass:"s_content",attrs:{title:e.branch_name}},[t._v(t._s(e.branch_name))])]),t._v(" "),a("div",{staticClass:"its it2"},[a("h4",{staticClass:"s_name"},[t._v("资产数")]),t._v(" "),a("h2",{staticClass:"s_content"},[t._v(t._s(e.asset_count))])]),t._v(" "),a("div",{staticClass:"its it3"},[a("h4",{staticClass:"s_name"},[t._v("风险资产数")]),t._v(" "),a("h2",{staticClass:"s_content"},[t._v(t._s(e.risk_asset_count))])]),t._v(" "),a("div",{staticClass:"its it4"},[a("h4",{staticClass:"s_name"},[t._v("外联资产数")]),t._v(" "),a("h2",{staticClass:"s_content"},[t._v(t._s(e.external_count))])]),t._v(" "),a("div",{staticClass:"fs"},[a("i",{staticClass:"fs-img"})])])}),0)])}),1)],1)},staticRenderFns:[]};var ot={name:"vm-screen-middle1",data:function(){return{tabFlag:!1,data:[]}},components:{VmScreenMap:a("VU/8")(at,st,!1,function(t){a("OZhP")},"data-v-7abf0e7a",null).exports,VmScreenSpread:a("VU/8")(nt,it,!1,function(t){a("5WNt")},"data-v-c9ab5aaa",null).exports},methods:{changeCal:function(){this.tabFlag=!this.tabFlag,this.$emit("childByValue",this.tabFlag)}}},rt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vm-screen-middle1"},[e("div",{attrs:{id:"spreader"}},[e("el-carousel",{attrs:{trigger:"click",autoplay:!0,interval:2e4},on:{change:this.changeCal}},[e("el-carousel-item",[e("vm-screen-map")],1),this._v(" "),e("el-carousel-item",[e("vm-screen-spread")],1)],1)],1)])},staticRenderFns:[]};var lt=a("VU/8")(ot,rt,!1,function(t){a("vW8W")},"data-v-3bfab82f",null).exports,ct={name:"vm-screen-middle2",data:function(){return{flow:{legendData:[],xAxisData:[],yAxisData:[],series:[],legendColor:[]},realData:[],timers:null}},created:function(){this.getData(),this.getReal()},mounted:function(){var t=this;this.timers=setInterval(function(){t.getData(),t.getReal()},3e5)},destroyed:function(){clearInterval(this.timers)},methods:{getData:function(){var t=this;this.$axios.get("/yiiapi/demonstration/flow-statistics").then(function(e){t.flow={legendData:[],xAxisData:[],yAxisData:[],series:[],legendColor:[]},t.realData=[];var a=e.data,s=a.status,n=a.data;0==s&&(t.flow.legendData=U()(n),t.flow.legendData=t.flow.legendData.map(function(t){return t.toUpperCase()}),O()(n).forEach(function(e,a){0==a&&(t.flow.xAxisData=e.map(function(t){return t.statistics_time}));var s=e.map(function(t){return t.flow});s=s.reverse(),t.flow.xAxisData=t.flow.xAxisData.reverse();var n=t.flow.legendData[a];if("http"==(n=n.toUpperCase())||"HTTP"==n)var i="#007AFF";else if("https"==n||"HTTPS"==n)i="#7C00FF";else if("ssh"==n||"SSH"==n)i="#CC9D3B";else if("dns"==n||"DNS"==n)i="#00C800";else if("ftp"==n||"FTP"==n)i="#FF00C9";t.flow.legendColor.push(i),t.flow.series.push({data:s,type:"line",smooth:!0,symbol:"none",name:n,itemStyle:{normal:{textStyle:{color:"red",opacity:.5},lineStyle:{width:2,opacity:.5,color:i},areaStyle:{opacity:.2,color:i}}}})}),t.$nextTick(function(){t.drawGraph()}))}).catch(function(t){console.log(t)})},drawGraph:function(){var t=this.$echarts.init(document.getElementById("flow"));t.showLoading({text:"正在加载数据..."}),t.clear();var e={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},color:this.flow.legendColor,legend:{bottom:-5,left:5,orient:"horizontal",itemWidth:12,itemHeight:8,textStyle:{color:"#fff",fontSize:10},data:this.flow.legendData},grid:{top:"5%",left:"0",right:"3%",bottom:"10%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,axisLabel:{color:"#ffffff"},axisLine:{lineStyle:{color:"#00D7E9"}},axisTick:{show:!1},splitLine:{lineStyle:{color:"rgba(255,255,255,.12)"}},data:this.flow.xAxisData},yAxis:{type:"value",axisLabel:{color:"#ffffff"},axisLine:{lineStyle:{color:"#00D7E9"}},axisTick:{show:!1},splitLine:{lineStyle:{color:"rgba(255,255,255,.12)"}}},series:this.flow.series};t.setOption(e),t.hideLoading(),window.addEventListener("resize",function(){t.resize()})},getReal:function(){var t=this;this.$axios.get("/yiiapi/demonstration/realtime-alert").then(function(e){var a=e.data,s=a.status,n=a.data;0==s&&(t.realData=n,t.$nextTick(function(){t.drawReal()}))}).catch(function(t){console.log(t)})},drawReal:function(){var t=[],e=[],a=[],s=this.realData;s.length>0&&s.forEach(function(s){var n={},i={};n.name=s.src_ip,n.symbolSize=10,t.push(s.src_ip,s.dest_ip),i.source=s.src_ip,i.target=s.dest_ip,i.value=s.category,i.lineStyle={color:"#00D7E9",width:2,curveness:.4},e.push(i),a.push(s.category)}),t=t.filter(function(t,e,a){return a.indexOf(t)===e}),a=a.filter(function(t,e,a){return a.indexOf(t)===e});var n=[];t.forEach(function(t,e){var a="";0==e?a="#D44361":1==e?a="#D0A13F":2==e?a="#60C160":3==e&&(a="#FF00C9"),n.push({name:t,label:{color:"#fff"},itemStyle:{color:a}})});var i=[];a.forEach(function(t,e){var a="";0==e?a="#D44361":1==e?a="#D0A13F":2==e?a="#60C160":3==e&&(a="#FF00C9"),i.push({name:t,itemStyle:{color:a}})}),t=n;var o=this.$echarts.init(document.getElementById("info_relation")),r={tooltip:{show:!0,formatter:function(t){return t.data.name}},animationDurationUpdate:1500,animationEasingUpdate:"quinticInOut",series:[{type:"graph",layout:"force",force:{repulsion:300,gravity:.15,edgeLength:100},symbolSize:10,roam:!0,label:{normal:{show:!0,fontSize:8,position:"right"}},edgeSymbol:["circle","arrow"],edgeSymbolSize:[2,6],edgeLabel:{normal:{show:!0,textStyle:{fontSize:8,color:"#fff"},formatter:"{c}"}},data:t,links:e,itemStyle:{normal:{borderColor:"#DBA500",borderWidth:0,shadowBlur:10}},lineStyle:{normal:{opacity:.31,width:1,color:"#fff",curveness:.7}}}]};o.setOption(r,!0);var l=this.$echarts.init(document.getElementById("relation")),c={tooltip:{show:!1},animationDurationUpdate:1500,animationEasingUpdate:"quinticInOut",series:[{type:"graph",layout:"force",force:{repulsion:100,edgeLength:50},symbolSize:4,roam:!0,label:{normal:{show:!1}},edgeLabel:{normal:{show:!1,textStyle:{fontSize:8,color:"#fff"},formatter:"{c}"}},data:i,itemStyle:{normal:{borderColor:"#DBA500",borderWidth:0,shadowBlur:10}},lineStyle:{normal:{opacity:.31,width:1,color:"#fff",curveness:.7}}}]};l.setOption(c,!0)}}},dt={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vm-screen-middle2"},[e("div",{staticClass:"block-all"},[e("div",{staticClass:"block"},[e("div",{attrs:{id:"flow"}}),this._v(" "),e("div",{staticClass:"box"},[e("div",{staticClass:"line"})]),this._v(" "),e("div",{staticClass:"relation",attrs:{id:"relation"}})]),this._v(" "),e("div",{staticClass:"arrow"}),this._v(" "),e("div",{staticClass:"real"},[e("div",{attrs:{id:"info_relation"}})])])])}]};var ut=a("VU/8")(ct,dt,!1,function(t){a("p0J8")},"data-v-b2b7d86c",null).exports,mt={name:"home-screen",props:{close:{type:Boolean,default:!0},topClose:{type:Boolean,default:!0}},components:{draggable:o.a,VmScreenAll:Z,VmScreenMiddle0:et,VmScreenMiddle1:lt,VmScreenMiddle2:ut},data:function(){return{isFullscreen:!1,threatEyeName:"ThreatEye高级威胁检测系统",totalLists:[],totalTopLists:[],name:"外连分布"}},computed:n()({},Object(K.b)({baseInfo:"baseInfo",lists:"asideLists",topLists:"topLists"})),created:function(){var t=this;this.$store.dispatch("getScreenBase"),this.$store.dispatch("getScreenAside").then(function(e){if(e){var a=t.lists.filter(function(t){return 1==t.flag});t.totalLists=a}}),this.$store.dispatch("getScreenTop").then(function(e){if(e){var a=t.topLists.filter(function(t){return 1==t.flag});t.totalTopLists=a}})},watch:{lists:{handler:function(t,e){var a=t.filter(function(t){return 1==t.flag});this.totalLists=a},deep:!0},topLists:{handler:function(t,e){var a=t.filter(function(t){return 1==t.flag});this.totalTopLists=a},deep:!0}},mounted:function(){var t=this;window.onresize=function(){t.checkFull()||(t.isFullscreen=!1)}},methods:{getName:function(){var t=this;this.$axios.get("/yiiapi/demonstration/get-screen-name").then(function(e){var a=e.data,s=a.status,n=a.data;0==s&&(t.threatEyeName=n.ScreenName)}).catch(function(t){console.log(t)})},quitScreen:function(){this.$router.push({path:"/home/overview"})},setScreen:function(){this.$router.push({path:"/screen/set/base",query:{num:"0"}})},fullScreen:function(){l.a.toggle(),this.isFullscreen=!0},checkFull:function(){var t=document.fullscreenEnabled||window.fullScreen||document.webkitIsFullScreen||document.msFullscreenEnabled;return void 0===t&&(t=!1),t},childByValue:function(t){this.name=t?"分支态势":"外连分布"}}},ft={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home-screen",class:{active:!t.close}},[a("div",{staticClass:"home-top"},[t._m(0),t._v(" "),a("div",{staticClass:"home_c"},[t._v(t._s(t.baseInfo.ScreenName))]),t._v(" "),a("div",{staticClass:"home_r"},[a("el-button",{staticClass:"e_btn e_btn_quit",attrs:{type:"primary",icon:"el-icon-switch-button"},on:{click:function(e){return t.quitScreen()}}},[t._v("退出")]),t._v(" "),a("el-button",{staticClass:"e_btn e_btn_set",attrs:{type:"primary",icon:"el-icon-setting"},on:{click:function(e){return t.setScreen()}}},[t._v("设置")]),t._v(" "),a("el-button",{staticClass:"e_btn e_btn_full",attrs:{type:"primary",icon:"el-icon-full-screen"},on:{click:function(e){return t.fullScreen()}}},[t._v("全屏")])],1)]),t._v(" "),a("div",{staticClass:"home-content"},[a("div",{staticClass:"screen-1"},[t.totalLists.length>0?a("div",{staticClass:"list-item",class:{active:!t.close}},[a("vm-screen-all",{attrs:{data:t.totalLists[0],close:t.close}})],1):t._e(),t._v(" "),t.totalLists.length>2?a("div",{staticClass:"list-item",class:{active:!t.close}},[a("vm-screen-all",{attrs:{data:t.totalLists[2],close:t.close}})],1):t._e(),t._v(" "),t.totalLists.length>4?a("div",{staticClass:"list-item",class:{active:!t.close}},[a("vm-screen-all",{attrs:{data:t.totalLists[4],close:t.close}})],1):t._e()]),t._v(" "),a("div",{staticClass:"screen-2"},[a("div",{staticClass:"list-item list-item-top",class:{active:!t.close}},[t.totalTopLists.length>0?a("vm-screen-middle0",{attrs:{topData:t.totalTopLists,close:t.topClose}}):t._e()],1),t._v(" "),a("div",{staticClass:"list-item list-item-middle",class:{active:!t.close}},[a("header",{staticClass:"title"},[t._v(t._s(t.name)+"\n          "),a("i",{staticClass:"t_img"})]),t._v(" "),a("vm-screen-middle1",{on:{childByValue:t.childByValue}})],1),t._v(" "),a("div",{staticClass:"list-item list-item-bottom",class:{active:!t.close}},[t._m(1),t._v(" "),a("vm-screen-middle2")],1)]),t._v(" "),a("div",{staticClass:"screen-3"},[t.totalLists.length>1?a("div",{staticClass:"list-item",class:{active:!t.close}},[a("vm-screen-all",{attrs:{data:t.totalLists[1],close:t.close}})],1):t._e(),t._v(" "),t.totalLists.length>3?a("div",{staticClass:"list-item",class:{active:!t.close}},[a("vm-screen-all",{attrs:{data:t.totalLists[3],close:t.close}})],1):t._e(),t._v(" "),t.totalLists.length>5?a("div",{staticClass:"list-item",class:{active:!t.close}},[a("vm-screen-all",{attrs:{data:t.totalLists[5],close:t.close}})],1):t._e()])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home_l"},[e("label",{staticClass:"e_label"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"title title-flow"},[e("span",{staticClass:"t1"},[this._v("协议统计\n            "),e("span",{staticClass:"t11"},[this._v("单位(P/s)")])]),this._v(" "),e("span",{staticClass:"t2"},[this._v("实时威胁检测")]),this._v(" "),e("span",{staticClass:"t3"},[this._v("实时告警")])])}]};var ht=a("VU/8")(mt,ft,!1,function(t){a("lyeF")},"data-v-0f4abb07",null);e.default=ht.exports},bOmy:function(t,e){},biQ0:function(t,e){t.exports="data:image/png;base64,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"},gbjk:function(t,e){},"kA+H":function(t,e){},lyeF:function(t,e){},m2hw:function(t,e){},nzex:function(t,e){},p0J8:function(t,e){},rRlt:function(t,e){},uJun:function(t,e){},vW8W:function(t,e){},"w+fR":function(t,e){},wrC2:function(t,e,a){"use strict";(function(t){var s=a("bOdI"),n=a.n(s),i=a("gRE1"),o=a.n(i),r=a("fZjL"),l=a.n(r);e.a={name:"vm-screen-main8",data:function(){return{timers:null,trendData:{xAxisData:[],yAxisData:[]}}},created:function(){this.getData()},mounted:function(){var t=this;this.timers=setInterval(function(){t.getData()},3e5)},destroyed:function(){clearInterval(this.timers)},methods:{getData:function(){var t=this;this.$axios.get("/yiiapi/demonstration/risk-trend").then(function(e){var a=e.data,s=a.status,n=a.data;0==s&&(t.trendData.xAxisData=l()(n),t.trendData.yAxisData=o()(n),t.$nextTick(function(){t.drawGraph()}))}).catch(function(t){console.log(t)})},tipFormatter:function(e){var a=e.data.name,s=t('<div class="div-tip-warp"/>'),n=t('<div class = "tip-background">'),i=t("<span>").text(a),o=t('<div class ="triangle-down hotel-triangle-position">'),r=n.append(i);return s.append(r).append(o).html()},drawGraph:function(){var t,e=this.$echarts.init(document.getElementById("trend"));e.showLoading({text:"正在加载数据..."}),e.clear();var a={tooltip:{trigger:"axis",backgroundColor:"rgba(0,122,255,0.5)",axisPointer:{type:"shadow"}},legend:{show:!1},grid:{top:"5%",left:"0",right:"4%",bottom:"0",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,axisLabel:{color:"#ffffff"},axisLine:{lineStyle:{color:"#00D7E9"}},axisTick:{show:!1},data:this.trendData.xAxisData},yAxis:(t={type:"value",axisLabel:{color:"#ffffff"}},n()(t,"axisLabel",{color:"#ffffff"}),n()(t,"axisLine",{lineStyle:{color:"#00D7E9"}}),n()(t,"axisTick",{show:!1}),n()(t,"splitLine",{lineStyle:{color:"rgba(0,215,233,.12)"}}),t),series:[{type:"line",itemStyle:{color:"#007AFF",borderColor:"#007AFF"},lineStyle:{color:"#007AFF",width:1},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(0,122,255,0.7)"},{offset:1,color:"rgba(0,122,255,0.1)"}],global:!1}},emphasis:{show:!1},data:this.trendData.yAxisData}]};e.setOption(a),e.hideLoading(),window.addEventListener("resize",function(){e.resize()})}}}}).call(e,a("7t+N"))},zCCX:function(t,e){}});